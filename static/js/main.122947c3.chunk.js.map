{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","to","profileContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","item","cardLikeButtonClassName","onClick","aria-label","type","name","link","length","Main","onEditProfile","onAddPlace","onEditAvatar","cardsContext","avatar","about","map","Footer","ImagePopup","isOpen","onClose","closeOver","useEffect","closeESC","evt","key","document","addEventListener","removeEventListener","api","address","token","this","_address","_token","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","method","body","JSON","stringify","PopupWithForm","handleSubmit","nameForm","children","title","onSubmit","action","id","noValidate","EditProfilePopup","onUpdateUser","loading","useState","setName","description","setDescription","load","useRef","e","preventDefault","onChange","target","value","placeholder","minLength","maxLength","required","ref","disabled","EditAvatarPopup","onUpdateAvatar","inputEl","current","AddPlacePopup","nameCurrent","linkCurrent","DeleteCardPopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isPhotoPopupOpen","setIsPhotoPopupOpen","selectedCard","setSelectedCard","setCurrentUser","cards","setCards","loadingCard","setLoadingCard","loadingProfile","setLoadingProfile","loadingAvatar","setLoadingAvatar","loadingDelete","setLoadingDelete","delPopup","setDelPopup","cardToDelete","setCardToDelete","closeAllPopup","escClose","event","classList","contains","all","getInitialProfile","getInitialCards","usersData","catch","err","console","log","Provider","deleteLike","addLike","newCard","newCards","pathEditProfile","finally","addAvatar","postAddCard","deleteAddCard","delcard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.122947c3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from 'react';\r\nimport logo from './../images/logo.svg';\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header line\">\r\n      <img src={logo} alt=\"логотип\" className=\"header__logo\" />\r\n      <Link to={'/register'} className=\"header__login\">Войти</Link>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\n\r\nexport const profileContext = React.createContext();\r\n","import React from \"react\";\r\nimport { profileContext } from \"./../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(profileContext);\r\n\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = `button button_type_delete ${isOwn ? \"button_type_delete\" : \"button_type_delete-hidden\"\r\n    }`;\r\n\r\n  const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n  const cardLikeButtonClassName = `button button_type_like ${isLiked ? \"button_type_like_active\" : \"button_type_like\"\r\n    }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"element\">\r\n      <button\r\n        onClick={handleDeleteClick}\r\n        aria-label=\"Удалить\"\r\n        className={cardDeleteButtonClassName}\r\n        type=\"button\"\r\n      ></button>\r\n      <button onClick={handleClick} className=\"button button_type_photo\">\r\n        <img className=\"element__photo\" alt={card.name} src={card.link} />\r\n      </button>\r\n      <div className=\"element__position\">\r\n        <h3 className=\"element__subtitle\">{card.name}</h3>\r\n        <div>\r\n          <button\r\n            onClick={handleLikeClick}\r\n            aria-label=\"Поставить_лайк\"\r\n            className={cardLikeButtonClassName}\r\n            type=\"button\"\r\n          ></button>\r\n          <div className=\"element__counter_like\">{card.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { profileContext } from \"./../contexts/CurrentUserContext\";\r\n\r\nfunction Main({\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDelete,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  cardsContext\r\n}) {\r\n  const currentUser = React.useContext(profileContext);\r\n  return (\r\n    <div className=\"conteiner\">\r\n      <main className=\"main\">\r\n        <section className=\"profile\">\r\n          <div onClick={onEditAvatar} className=\"profile__avatar-container\">\r\n            <img\r\n              src={currentUser.avatar}\r\n              alt={currentUser.name}\r\n              className=\"profile__avatar\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__edit\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                onClick={onEditProfile}\r\n                aria-label=\"Редактировать_профиль\"\r\n                className=\"button button_type_edit\"\r\n                type=\"button\"\r\n              ></button>\r\n            </div>\r\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n          </div>\r\n          <button\r\n            onClick={onAddPlace}\r\n            aria-label=\"Добавить_фото\"\r\n            className=\"button button_type_add-card\"\r\n            type=\"button\"\r\n          ></button>\r\n        </section>\r\n        <section className=\"elements\">\r\n          <div className=\"elements__content\">\r\n            {cardsContext.map((item) => {\r\n              return (\r\n                <Card\r\n                  card={item}\r\n                  onCardClick={onCardClick}\r\n                  key={item._id}\r\n                  onCardLike={onCardLike}\r\n                  onCardDelete={onCardDelete}\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        </section>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nfunction Footer() {\r\n    return (\r\n        <div className=\"conteiner\">\r\n            <footer className=\"footer\">\r\n                <p className=\"footer__subtitle\">© 2020 Mesto Russia</p>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from \"react\";\r\nimport { useEffect } from \"react\";\r\n\r\nfunction ImagePopup({ isOpen, onClose, closeOver, card }) {\r\n  useEffect(() => {\r\n    if (!isOpen) return;\r\n    const closeESC = (evt) => {\r\n      if (evt.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", closeESC);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", closeESC);\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_photo ${isOpen && \"popup_opened\"}`}\r\n      onClick={closeOver}\r\n    >\r\n      <figure className=\"popup__big\">\r\n        <button\r\n          onClick={onClose}\r\n          aria-label=\"Закрыть_попап\"\r\n          className=\"button button_type_close button_type_big-close\"\r\n          type=\"button\"\r\n        ></button>\r\n        <img className=\"popup__big-photo\" alt=\"Фото\" src={`${card.link}`} />\r\n        <figcaption className=\"popup__big-title\">{`${card.name}`}</figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n"," class Api {\r\n  constructor({ address, token }) {\r\n    this._address = address\r\n    this._token = token\r\n  }\r\n\r\n  // выгрузить карточки с сервера\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  //Выгрузить данные профиля с сервера\r\n  getInitialProfile() {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  //Редактирование данных профиля\r\n  pathEditProfile(item) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: item.name,\r\n        about: item.about\r\n      })\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  //добавить карточку\r\n  postAddCard(item) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: item.name,\r\n        link: item.link\r\n      })\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  //Удалить карточку\r\n  deleteAddCard(item) {\r\n    return fetch(`${this._address}/cards/${item}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  //Обновление аватара\r\n  addAvatar(item) {\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: item.avatar\r\n      })\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  addLike(item) {\r\n    return fetch(`${this._address}/cards/likes/${item}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  deleteLike(item) {\r\n    return fetch(`${this._address}/cards/likes/${item}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`))\r\n  }\r\n}\r\n\r\nconst config = {\r\n  address:'https://mesto.nomoreparties.co/v1/cohort-19',\r\n  token:'175e5d69-964d-4046-a547-a053671ab7db'\r\n}\r\n\r\nconst api = new Api (config);\r\n\r\nexport default api;\r\n","import React, { useEffect } from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  isOpen,\r\n  onClose,\r\n  name,\r\n  closeOver,\r\n  handleSubmit,\r\n  nameForm,\r\n  children,\r\n  title\r\n}) {\r\n  useEffect(() => {\r\n    if (!isOpen) return null;\r\n    const closeESC = (evt) => {\r\n      if (evt.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", closeESC);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", closeESC);\r\n    };\r\n  }, [isOpen, onClose]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`}\r\n      onClick={closeOver}\r\n    >\r\n      <div className=\"popup__conteiner\">\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          action=\"#\"\r\n          id=\"form_reset\"\r\n          className={`form form_type_${nameForm}`}\r\n          name={`popup-${name}`}\r\n          noValidate\r\n        >\r\n          <h2 className=\"popup__title\">{title}</h2>\r\n          {children}\r\n        </form>\r\n        <button\r\n          onClick={onClose}\r\n          aria-label=\"Закрыть_попап\"\r\n          className=\"button button_type_close\"\r\n          type=\"button\"\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useEffect, useState, useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { profileContext } from \"./../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({\r\n  isOpen,\r\n  onClose,\r\n  closeOver,\r\n  onUpdateUser,\r\n  loading\r\n}) {\r\n  const currentUser = React.useContext(profileContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const load = useRef(null);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function hendleDescriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      closeOver={closeOver}\r\n      handleSubmit={handleSubmit}\r\n      name=\"edit\"\r\n      title=\"Редактировать профиль\"\r\n      nameForm=\"edit\"\r\n    >\r\n      <input\r\n        onChange={handleNameChange}\r\n        value={name}\r\n        id=\"text-input\"\r\n        className=\"popup__data popup__data_type_name\"\r\n        type=\"text\"\r\n        placeholder=\"Имя\"\r\n        name=\"name\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        required\r\n      />\r\n      <span id=\"text-input-error\" className=\"popup__data-error\"></span>\r\n      <input\r\n        onChange={hendleDescriptionChange}\r\n        value={description}\r\n        id=\"subtext-input\"\r\n        className=\"popup__data popup__data_type_job\"\r\n        type=\"text\"\r\n        placeholder=\"Вид деятельности\"\r\n        name=\"profession\"\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        required\r\n      />\r\n      <span id=\"subtext-input-error\" className=\"popup__data-error\"></span>\r\n      <button\r\n        ref={load}\r\n        className={`button button_type_save button_type_save-edit ${\r\n          loading ? \"button_type_disabled\" : \"button_type_save\"\r\n        }`}\r\n        type=\"submit\"\r\n        name=\"button\"\r\n        value=\"Сохранить\"\r\n        disabled={loading ? true : false}\r\n      >\r\n        {loading ? \"Сохранение...\" : \"Сохранить\"}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditAvatarPopup({\r\n  isOpen,\r\n  onClose,\r\n  closeOver,\r\n  name,\r\n  title,\r\n  onUpdateAvatar,\r\n  loading\r\n}) {\r\n  const inputEl = useRef(null);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateAvatar({\r\n      avatar: inputEl.current.value\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isOpen) {\r\n      inputEl.current.value = \"\";\r\n    }\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      closeOver={closeOver}\r\n      name={name}\r\n      title={title}\r\n      handleSubmit={handleSubmit}\r\n      nameForm=\"avatar\"\r\n    >\r\n      <input\r\n        ref={inputEl}\r\n        id=\"avatar-input\"\r\n        className=\"popup__data popup__data_photo\"\r\n        type=\"url\"\r\n        name=\"photoAvatar\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n      />\r\n      <span id=\"avatar-input-error\" className=\"popup__data-error\"></span>\r\n      <button\r\n        className={`button button_type_save button_type_save-profile ${\r\n          loading ? \"button_type_disabled\" : \"button_type_save\"\r\n        }`}\r\n        type=\"submit\"\r\n        name=\"button\"\r\n        value=\"Сохранить\"\r\n        disabled={loading ? true : false}\r\n      >\r\n        {loading ? \"Сохранение...\" : \"Сохранить\"}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import { React, useEffect, useRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup({\r\n  isOpen,\r\n  onClose,\r\n  closeOver,\r\n  name,\r\n  title,\r\n  onAddPlace,\r\n  loading\r\n}) {\r\n  const nameCurrent = useRef();\r\n  const linkCurrent = useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onAddPlace({\r\n      name: nameCurrent.current.value,\r\n      link: linkCurrent.current.value\r\n    });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isOpen) {\r\n      nameCurrent.current.value = \"\";\r\n      linkCurrent.current.value = \"\";\r\n    }\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      closeOver={closeOver}\r\n      name={name}\r\n      title={title}\r\n      handleSubmit={handleSubmit}\r\n      nameForm=\"photo\"\r\n    >\r\n      <input\r\n        ref={nameCurrent}\r\n        id=\"photo-input\"\r\n        className=\"popup__data popup__data_photo popup__data_type_location\"\r\n        type=\"text\"\r\n        name=\"point\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n      />\r\n      <span id=\"photo-input-error\" className=\"popup__data-error\"></span>\r\n      <input\r\n        ref={linkCurrent}\r\n        id=\"url-input\"\r\n        className=\"popup__data popup__data_photo popup__data_type_link\"\r\n        type=\"url\"\r\n        name=\"photo\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n      />\r\n      <span id=\"url-input-error\" className=\"popup__data-error\"></span>\r\n      <button\r\n        className={`button button_type_save button_type_save-add ${\r\n          loading ? \"button_type_disabled\" : \"button_type_save\"\r\n        }`}\r\n        type=\"submit\"\r\n        name=\"button\"\r\n        value=\"Создать\"\r\n        disabled={loading ? true : false}\r\n      >\r\n        {loading ? \"Сохранение...\" : \"Создать\"}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nfunction DeleteCardPopup({\r\n  isOpen,\r\n  onCardDelete,\r\n  onClose,\r\n  name,\r\n  closeOver,\r\n  loading\r\n}) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onCardDelete();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      handleSubmit={handleSubmit}\r\n      onClose={onClose}\r\n      name={name}\r\n      closeOver={closeOver}\r\n      nameForm=\"delete\"\r\n    >\r\n      <h2 className=\"popup__title popup__title_type_photo\">Вы уверены ?</h2>\r\n      <button\r\n        className={`button button_type_save ${\r\n          loading ? \"button_type_disabled\" : \"button_type_save\"\r\n        }`}\r\n        type=\"submit\"\r\n        name=\"button\"\r\n        value=\"yes\"\r\n        disabled={loading ? true : false}\r\n      >\r\n        {loading ? \"Удаление...\" : \"Да\"}\r\n      </button>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport { useEffect, useState } from \"react\";\r\nimport api from \"../utils/api\";\r\nimport { profileContext } from \"./../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport DeleteCardPopup from \"./DeleteCardPopup\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isPhotoPopupOpen, setIsPhotoPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState({});\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [cards, setCards] = useState([]);\r\n  const [loadingCard, setLoadingCard] = useState(false);\r\n  const [loadingProfile, setLoadingProfile] = useState(false)\r\n  const [loadingAvatar, setLoadingAvatar] = useState(false)\r\n  const [loadingDelete, setLoadingDelete] = useState(false)\r\n  const [delPopup, setDelPopup] = useState(false);\r\n  const [cardToDelete, setCardToDelete] = useState({});\r\n  \r\n  useEffect(() => {\r\n    Promise.all([api.getInitialProfile(), api.getInitialCards()])\r\n      .then(([usersData, cards]) => {\r\n        setCurrentUser(usersData);\r\n        setCards(cards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((item) => item._id === currentUser._id);\r\n    const likeRequest = isLiked ? api.deleteLike(card._id) : api.addLike(card._id)\r\n    likeRequest.then((newCard) => {\r\n      const newCards = cards.map((item) =>\r\n        item._id === card._id ? newCard : item\r\n      )\r\n      setCards(newCards);\r\n    })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`)\r\n      })\r\n  }\r\n\r\n  function hendleDeleteCard(card) {\r\n    setCardToDelete(card);\r\n    setDelPopup(true);\r\n  }\r\n\r\n  function handleCardDeleteSubmit() {\r\n    setLoadingDelete(true)\r\n    api\r\n      .deleteAddCard(cardToDelete._id)\r\n      .then(() => {\r\n        const delcard = cards.filter((item) => item._id !== cardToDelete._id);\r\n        setCards(delcard);\r\n        closeAllPopup();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      })\r\n      .finally(() => {\r\n        setCardToDelete({});\r\n        setLoadingDelete(false)\r\n      });\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setIsPhotoPopupOpen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopup() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsPhotoPopupOpen(false);\r\n    setDelPopup(false);\r\n  }\r\n\r\n  function escClose(event) {\r\n    if (event.target.classList.contains(\"popup_opened\")) {\r\n      closeAllPopup();\r\n    }\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    setLoadingProfile(true);\r\n    api\r\n      .pathEditProfile({ name: name, about: about })\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopup();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      })\r\n      .finally(() => setLoadingProfile(false));\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }) {\r\n    setLoadingAvatar(true);\r\n    api\r\n      .addAvatar({ avatar: avatar })\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopup();\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      })\r\n      .finally(() => setLoadingAvatar(false));\r\n  }\r\n\r\n  function handleAddPlaceSubmit({ name, link}) {\r\n    setLoadingCard(true);\r\n    api\r\n      .postAddCard({ name: name, link: link })\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        if (res) {\r\n         closeAllPopup()\r\n        }\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(`Ошибка: ${err}`);\r\n      })\r\n      .finally(() => setLoadingCard(false));\r\n  }\r\n \r\n  return (\r\n    <div className=\"page\">\r\n      <profileContext.Provider value={currentUser}>\r\n        <Header />\r\n          <Main\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={hendleDeleteCard}\r\n              cardsContext={cards}\r\n            />\r\n            <Footer />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopup}\r\n          closeOver={escClose}\r\n          onUpdateUser={handleUpdateUser}\r\n          loading={loadingProfile}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopup}\r\n          closeOver={escClose}\r\n          name=\"avatar\"\r\n          title=\"Обновить аватар\"\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          loading={loadingAvatar}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopup}\r\n          closeOver={escClose}\r\n          name=\"photo\"\r\n          title=\"Новое место\"\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          loading={loadingCard}\r\n        />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          onClose={closeAllPopup}\r\n          isOpen={isPhotoPopupOpen}\r\n          closeOver={escClose}\r\n        />\r\n        <DeleteCardPopup\r\n          isOpen={delPopup}\r\n          name=\"delete\"\r\n          card={selectedCard}\r\n          onCardDelete={handleCardDeleteSubmit}\r\n          onClose={closeAllPopup}\r\n          closeOver={escClose}\r\n          loading={loadingDelete}\r\n        />\r\n      </profileContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App.js';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport{BrowserRouter} from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}